{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static "css/styleindex.css" %}">
</head>
<body>
    <script src="{% static 'js/scriptindex.js'%}"></script>
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
    <strong>Message:</strong> {{ message }}
    <button type="button" class="close" data-dismiss = "alert" aria-label="close">
    <span aria-hidden="true">&times;</span>
    </button>
    </div>
    {% endfor %}

    {% if user.is_authenticated %}
    <h3>Hello {{ fname }}</h3>
    <button type="submit"><a href="/signout"> SignOut</a></button>

    <input type="file" id="fileInput" style="display: none;" accept="image/*">
    <button onclick="openFileExplorer()">Choose an Image</button>
    <script>
        function openFileExplorer(){
            document.getElementById('fileInput').click();
        }
    
        document.getElementById('fileInput').addEventListener('change', function(event) {
            const file = event.target.files[0];
            const reader = new FileReader();

            reader.onload = function(e){
                const img = document.createElement('img');
                img.src = e.target.result;
                document.body.appendChild(img);
            }

            reader.readAsDataURL(file);
        })
    </script>
    {% else %}
    <h3>Welcome to #</h3>
    <button type='submit'><a href="/signup"> SignUp</a></button>
    <button type="submit"><a href="/signin"> SignIn</a></button>
    {% endif %}
</body>
</html>